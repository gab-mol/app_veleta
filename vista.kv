<ScMg>
    Screen:
        name: "main"
        MDTopAppBar:
            id: topb
            elevation: 2
            title: "[size=25]Condiciones en "+"<ciudad>[/size]\n"+root.reloj
            markup: True
            pos_hint: {'top': 1}
            size_hint: 1, .1
            right_action_items: [["dots-vertical",lambda x: banner.show()]]
        MDBanner:
            id: banner
            # Si va una sola línea no uso type
            #type: "two-line"  # Si van dos líneas
            type: "two-line"
            text: [root.coord, "Botones?"]
            left_action: ["CANCEL", lambda x: None]
            right_action: ["CLOSE", lambda x: None]
            over_widget: meteo
            vertical_pad: topb.height
        MDBoxLayout:
            id: meteo
            orientation: 'vertical'
            padding: 20
            spacing: 5
            size_hint_y: None # importante
            height: Window.height - topb.height
            DatTab:
                id: tabla
                spacing: 5
                size_hint: 1, .3
                cols: 2
            MDBoxLayout:
                id: sep
                size_hint: 1, .1          
            MDFloatLayout:
                id: rosa_v
                padding: 20              
                Image:
                    pos_hint: {'center_x': 0.515,'center_y': 0.45}
                    source: './recursos/dial.png'
                    size: self.texture_size 
                PuntCardLab:
                    pos_hint: {'center_x': 1,'center_y': 1.02}
                    font_size: 25
                    text: "N"
                PuntCardLab:
                    pos_hint: {'center_x': 1.12,'center_y': .975}
                    text: "NNE"
                PuntCardLab:
                    pos_hint: {'center_x': 1.26,'center_y': .871}
                    text: "NE"
                PuntCardLab:
                    pos_hint: {'center_x': 1.34,'center_y': .63}
                    text: "ENE"      
                PuntCardLab:
                    pos_hint: {'center_x': 1,'center_y': -0.11}
                    font_size: 25
                    text: "S"
                PuntCardLab:
                    pos_hint: {'center_x': .625,'center_y': .63}
                    text: "ONO"
                PuntCardLab:
                    pos_hint: {'center_x': .71,'center_y': .871}
                    text: "NO"
                PuntCardLab:
                    pos_hint: {'center_x': .85,'center_y': .975}
                    text: "NNO"
                PuntCardLab:
                    pos_hint: {'center_x': .610,'center_y': .45}
                    font_size: 25
                    text: "O"
                PuntCardLab:
                    pos_hint: {'center_x': .71,'center_y': .05}
                    text: "SO"
                PuntCardLab:
                    pos_hint: {'center_x': .62,'center_y': .292}
                    text: "OSO"
                PuntCardLab:
                    pos_hint: {'center_x': 1.4,'center_y': .455}
                    font_size: 25
                    text: "E"
                PuntCardLab:
                    pos_hint: {'center_x': 1.35,'center_y': .292}
                    text: "ESE"
                PuntCardLab:
                    pos_hint: {'center_x': 1.26,'center_y': .07}
                    text: "SE"
                PuntCardLab:
                    pos_hint: {'center_x': 1.12,'center_y': -0.07}
                    text: "SSE"
                PuntCardLab:
                    pos_hint: {'center_x': .85,'center_y': -0.07}
                    text: "SSO"
                MDLabel:
                    pos_hint: {'center_x': 0.515,'center_y': 0.45}
                    size: self.texture_size 
                    canvas.before:
                        PushMatrix
                        Rotate:
                            # Kivy rota en sentido contrario al requerido
                            # además, dibujé orizontal (90° desplazado...)
                            angle: 360-root.a_viento+90
                            origin: self.center
                    canvas:
                        Color:
                            rgba:  1,.1,0,1    
                        Triangle:
                            points: self.center_x - self.center_x*.47, self.center_y,    self.center_x + self.center_x*.39, self.center_y+self.center_y*.08,    self.center_x +self.center_x*.39, self.center_y-self.center_y*.08
                        Triangle:
                            points: self.center_x + self.center_x*.39, self.center_y - self.center_y*.05,    self.center_x + self.center_x*.39, self.center_y + self.center_y*.05,    self.center_x+self.center_x*.53, self.center_y

                    canvas.after:
                        PopMatrix
            MDBoxLayout:
                size_hint: 1, .05

<MetDat@MDCard>
    
    MDBoxLayout:
        orientation: 'horizontal'
        MDLabel:
            size_hint: .6, 1
            text: "  "+root.tit+":"
            font_size: 22
            halign: "center"

        MDLabel:
            size_hint: .4, 1
            text: "   [b]"+root.dat+"[/b]"
            markup: True
            font_size: 20
            halign: "left"


<PuntCardLab@MDLabel>
    font_size: 20
    bold: True