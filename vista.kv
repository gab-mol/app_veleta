<ScMg>


    Screen:
        name: "main"
        MDBoxLayout:
            orientation: 'vertical'
            padding: 20
            spacing: 5
            MDTopAppBar:
                id: topb
                elevation: 4
                title: root.reloj
            DatTab:
                id: tabla
                spacing: 5
                size_hint: 1, .3
                cols: 2
            MDBoxLayout:
                size_hint: 1, .05          
            MDFloatLayout:
                padding: 20              
                Image:
                    pos_hint: {'center_x': 0.515,'center_y': 0.45}
                    source: './recursos/dial.png'
                    size: self.texture_size 
                MDLabel:
                    pos_hint: {'center_x': .99999,'center_y': 1}
                    text: "N"
                    font_size: 20
                    bold: True
                MDLabel:
                    pos_hint: {'center_x': .99999,'center_y': -0.08}
                    text: "S"
                    font_size: 20
                    bold: True
                MDLabel:
                    pos_hint: {'center_x': 0.515,'center_y': 0.45}
                    size: self.texture_size 
                    canvas.before:
                        PushMatrix
                        Rotate:
                            # Kivy rota en sentido contrario al requerido
                            # además, dibujé orizontal (90° desplazado...)
                            angle: 360-root.a_viento+90
                            origin: self.center
                    canvas:
                        Color:
                            rgba:  1,.1,0,1    
                        Triangle:
                            points: self.center_x - self.center_x*.47, self.center_y,    self.center_x + self.center_x*.39, self.center_y+self.center_y*.08,    self.center_x +self.center_x*.39, self.center_y-self.center_y*.08
                        Triangle:
                            points: self.center_x + self.center_x*.39, self.center_y - self.center_y*.05,    self.center_x + self.center_x*.39, self.center_y + self.center_y*.05,    self.center_x+self.center_x*.53, self.center_y
                        # Ellipse (...)
                    canvas.after:
                        PopMatrix
            MDBoxLayout:
                size_hint: 1, .1

<MetDat@MDCard>
    
    MDBoxLayout:
        orientation: 'horizontal'
        MDLabel:
            size_hint: .6, 1
            text: "   "+root.tit+" :"
            font_size: 25
            halign: "center"

        MDLabel:
            size_hint: .4, 1
            text: "  [b]"+root.dat+"[/b]"
            markup: True
            font_size: 20
            halign: "left"