<ScMg>


    Screen:
        name: "main"
        MDBoxLayout:
            orientation: 'vertical'
            padding: 5
            spacing: 10
            MDTopAppBar:
                id: "topb"
                elevation: 4
                title: root.reloj
            MDFloatLayout:
                MDLabel:
                    pos_hint: {'center_x': 0.87,'center_y': 0.9}
                    font_size:25
                    # text:"[color=#C42D2D<color>]Dirección actual del viento[/color]"
                    text: "Dirección actual \ndel viento, a: "+root.a_viento_s+"°"
                    markup:True
                    halign: "center"
                Image:
                    pos_hint: {'center_x': 0.5,'center_y': 0.5}
                    source: './recursos/dial.png'
                    size: self.texture_size
                MDLabel:
                    pos_hint: {'center_x': 0.515,'center_y': 0.45}
                    size: self.texture_size                    
                    canvas.before:
                        PushMatrix
                        Rotate:
                            # Kivy rota en sentido contrario al requerido
                            # además, dibujé orizontal (90° desplazado...)
                            angle: 360-root.a_viento+90
                            origin: self.center
                    canvas:
                        Color:
                            rgba:  1,.1,0,1    
                        Triangle:
                            points: 200,250, 565,230, 565,270 
                        Triangle:
                            points: 565,235, 565,265, 600,250 
                    canvas.after:
                        PopMatrix